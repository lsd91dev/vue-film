(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-edbf0076"],{"0b8d":function(t,e,i){"use strict";i("9e64")},"159b":function(t,e,i){var r=i("da84"),o=i("fdbc"),n=i("17c2"),a=i("9112");for(var c in o){var s=r[c],u=s&&s.prototype;if(u&&u.forEach!==n)try{a(u,"forEach",n)}catch(f){u.forEach=n}}},"17c2":function(t,e,i){"use strict";var r=i("b727").forEach,o=i("a640"),n=i("ae40"),a=o("forEach"),c=n("forEach");t.exports=a&&c?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},"1dde":function(t,e,i){var r=i("d039"),o=i("b622"),n=i("2d00"),a=o("species");t.exports=function(t){return n>=51||!r((function(){var e=[],i=e.constructor={};return i[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"2d3b":function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"search"},[i("b-row",[i("b-col",{attrs:{cols:"10"}},[0!=t.movies.length?i("b-list-group",t._l(t.movies,(function(e,r){return i("b-list-group-item",{key:r,staticClass:"vf-movie-item-list vf-only-bottom-border"},[i("div",{staticClass:"vf-movie-poster"},[null!=e.poster_path?[i("b-img",{attrs:{src:t.url_poster+"/"+e.poster_path,alt:"..."}})]:[i("b-icon",{attrs:{icon:"file-image-fill","font-scale":"5"}})]],2),i("div",{staticClass:"vf-movie-information"},[e.review?[i("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"app-bookmark",attrs:{title:"Link to your review"}},[i("b-icon",{attrs:{icon:"bookmark"}})],1)]:t._e(),i("a",{staticClass:"h3 app-link-movie",on:{click:function(i){return t.getMovie(e.id)}}},[t._v(t._s(e.original_title))]),i("p",{staticClass:"mt-2"},[t._v(" Release date: "+t._s(e.release_date))]),i("p",{staticClass:"mt-1"},[t._v(" Acting: "),t._l(t.casting,(function(r,o){return i("span",{key:o},[e.id===r.movie_id?[t._v(t._s(r.name)+" | ")]:t._e()],2)}))],2),t.token?[i("div",[i("WriteReview",{attrs:{movie_id:e.id}})],1)]:t._e()],2)])})),1):t._e()],1)],1)],1)},o=[],n=(i("99af"),i("4160"),i("fb6a"),i("159b"),i("96cf"),i("1da1")),a=i("e804"),c="http://localhost:3000/vfilm",s={data:function(){return{movies:"",credits:"",url_poster:"https://image.tmdb.org/t/p/original",casting:[]}},components:{WriteReview:a["a"]},methods:{searchMovieByQuery:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,e.movies="",e.casting=[],i.next=5,e.axios.get("".concat(c,"/search/movie/").concat(t),{headers:{authorization:e.token}}).then((function(t){e.movies=t.data.movies,e.getCastFromMovie()})).catch((function(t){console.log(t)}));case 5:i.next=10;break;case 7:i.prev=7,i.t0=i["catch"](0),console.log(i.t0);case 10:case"end":return i.stop()}}),i,null,[[0,7]])})))()},getCastFromMovie:function(){var t=this;this.movies.forEach((function(e){e.cast.slice(0,4).forEach((function(i){"Acting"===i.known_for_department&&(i.movie_id=e.id,t.casting.push(i))}))}))},getMovie:function(t){this.$router.push({path:"/movie/".concat(t)})},goReviewMovie:function(t){this.$router.push({path:"/review/movie/".concat(t)})}},created:function(){var t=this.$route.params.query;this.searchMovieByQuery(t)},mounted:function(){var t=this;this.$root.$on("searchMovieByQuery",(function(e){t.searchMovieByQuery(e)}))},computed:{token:function(){return this.$store.getters.isAuth}}},u=s,f=(i("0b8d"),i("2877")),v=Object(f["a"])(u,r,o,!1,null,"3e51bf65",null);e["default"]=v.exports},4160:function(t,e,i){"use strict";var r=i("23e7"),o=i("17c2");r({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,i){var r=i("1d80"),o=i("5899"),n="["+o+"]",a=RegExp("^"+n+n+"*"),c=RegExp(n+n+"*$"),s=function(t){return function(e){var i=String(r(e));return 1&t&&(i=i.replace(a,"")),2&t&&(i=i.replace(c,"")),i}};t.exports={start:s(1),end:s(2),trim:s(3)}},7156:function(t,e,i){var r=i("861d"),o=i("d2bb");t.exports=function(t,e,i){var n,a;return o&&"function"==typeof(n=e.constructor)&&n!==i&&r(a=n.prototype)&&a!==i.prototype&&o(t,a),t}},8418:function(t,e,i){"use strict";var r=i("c04e"),o=i("9bf2"),n=i("5c6c");t.exports=function(t,e,i){var a=r(e);a in t?o.f(t,a,n(0,i)):t[a]=i}},"99af":function(t,e,i){"use strict";var r=i("23e7"),o=i("d039"),n=i("e8b5"),a=i("861d"),c=i("7b0b"),s=i("50c4"),u=i("8418"),f=i("65f0"),v=i("1dde"),l=i("b622"),h=i("2d00"),p=l("isConcatSpreadable"),d=9007199254740991,m="Maximum allowed index exceeded",b=h>=51||!o((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),g=v("concat"),_=function(t){if(!a(t))return!1;var e=t[p];return void 0!==e?!!e:n(t)},w=!b||!g;r({target:"Array",proto:!0,forced:w},{concat:function(t){var e,i,r,o,n,a=c(this),v=f(a,0),l=0;for(e=-1,r=arguments.length;e<r;e++)if(n=-1===e?a:arguments[e],_(n)){if(o=s(n.length),l+o>d)throw TypeError(m);for(i=0;i<o;i++,l++)i in n&&u(v,l,n[i])}else{if(l>=d)throw TypeError(m);u(v,l++,n)}return v.length=l,v}})},"9e64":function(t,e,i){},a9e3:function(t,e,i){"use strict";var r=i("83ab"),o=i("da84"),n=i("94ca"),a=i("6eeb"),c=i("5135"),s=i("c6b6"),u=i("7156"),f=i("c04e"),v=i("d039"),l=i("7c73"),h=i("241c").f,p=i("06cf").f,d=i("9bf2").f,m=i("58a8").trim,b="Number",g=o[b],_=g.prototype,w=s(l(_))==b,y=function(t){var e,i,r,o,n,a,c,s,u=f(t,!1);if("string"==typeof u&&u.length>2)if(u=m(u),e=u.charCodeAt(0),43===e||45===e){if(i=u.charCodeAt(2),88===i||120===i)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+u}for(n=u.slice(2),a=n.length,c=0;c<a;c++)if(s=n.charCodeAt(c),s<48||s>o)return NaN;return parseInt(n,r)}return+u};if(n(b,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var E,S=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof S&&(w?v((function(){_.valueOf.call(i)})):s(i)!=b)?u(new g(y(e)),i,S):y(e)},L=r?h(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),k=0;L.length>k;k++)c(g,E=L[k])&&!c(S,E)&&d(S,E,p(g,E));S.prototype=_,_.constructor=S,a(o,b,S)}},e804:function(t,e,i){"use strict";var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.reviewPath()?t._e():i("div",{staticClass:"writeReview"},[t.reviewExist?[t._m(0),i("b-button",{attrs:{variant:"info"},on:{click:function(e){return t.goUpdateReview()}}},[i("b-icon",{attrs:{icon:"pencil-square"}}),t._v(" Update review ")],1)]:[i("b-button",{staticClass:"app-button",on:{click:function(e){return t.goReviewMovie()}}},[i("b-icon",{attrs:{icon:"pencil-square"}}),t._v(" Write a review ")],1)]],2)},o=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("small",[t._v(" You has already review this movie!")])])}],n=(i("99af"),i("a9e3"),"http://localhost:3000/vfilm"),a={name:"WriteReview",props:{movie_id:String|Number,token:String},data:function(){return{reviewExist:""}},methods:{goReviewMovie:function(){this.$router.push({path:"/review/movie/".concat(this.movie_id)})},reviewPath:function(){return this.$route.path=="/review/movie/".concat(this.movie_id)},goUpdateReview:function(){this.$router.push({path:"/review/update/".concat(this.reviewExist._id)})}},created:function(){var t=this;this.token&&this.axios.get("".concat(n,"/review/for/").concat(this.movie_id,"/user"),{headers:{authorization:this.token}}).then((function(e){t.reviewExist=e.data.review[0]})).catch((function(t){console.log(t)}))}},c=a,s=i("2877"),u=Object(s["a"])(c,r,o,!1,null,"7ac21560",null);e["a"]=u.exports},fb6a:function(t,e,i){"use strict";var r=i("23e7"),o=i("861d"),n=i("e8b5"),a=i("23cb"),c=i("50c4"),s=i("fc6a"),u=i("8418"),f=i("b622"),v=i("1dde"),l=i("ae40"),h=v("slice"),p=l("slice",{ACCESSORS:!0,0:0,1:2}),d=f("species"),m=[].slice,b=Math.max;r({target:"Array",proto:!0,forced:!h||!p},{slice:function(t,e){var i,r,f,v=s(this),l=c(v.length),h=a(t,l),p=a(void 0===e?l:e,l);if(n(v)&&(i=v.constructor,"function"!=typeof i||i!==Array&&!n(i.prototype)?o(i)&&(i=i[d],null===i&&(i=void 0)):i=void 0,i===Array||void 0===i))return m.call(v,h,p);for(r=new(void 0===i?Array:i)(b(p-h,0)),f=0;h<p;h++,f++)h in v&&u(r,f,v[h]);return r.length=f,r}})},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-edbf0076.0a62d98f.js.map